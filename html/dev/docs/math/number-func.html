<h1>Number.prototype.bound(l[, h])</h1>
<div id="row" class="row">
	<textarea id="code" autofocus="">
/**
 * In the DevDoodle library, all numbers have a .bound() method that constrains that number.
 * 
 * Usages:
 * Number.prototype.bound(l)
 * Number.prototype.bound(l, h)
*/

//WARNING: When using .bound() with a number and not a variable, you must put parentheses around the number so the dot is not mistaken for a decimal point!

//If you pass in one argument into .bound(), that argument is used as a maximum for the number. If the number is bigger than the argument, the argument is returned. Otherwise, the number is returned.
print((3).bound(2));
print((1).bound(2));
//If you pass two arguments into .bound(), the first argument is used as a minimum for the number and the second argument is used as a maximum for the number. If the number is smaller than the first argument, the first argument is returned. If the number is bigger than the second argument, the second argument is returned. If the number is in between the arguments, the number is returned.
//Also, the first argument should be smaller than the second argument.
print((1).bound(2, 5));
print((3).bound(2, 5));
print((6).bound(2, 5));

//The .bound() method can be convenient at times!
var x = 100, y = 100, mode = 0;
draw = function() {
	bg(0);
	fill(255);
	stroke(none);
	rect(x-50, y-50, 100, 100);
	
	switch (mode%4) {
		case 0:
			x += rand(2, 5);
			break;
		case 1:
			y += rand(2, 5);
			break;
		case 2:
			x -= rand(2, 5);
			break;
		case 3:
			y -= rand(2, 5);
			break;
	}
	
	//Remember that calling the .bound() method of a variable number does not change the value of the variable. .bound() only returns another number.
	if (mode%2 &amp;&amp; y !== y.bound(100, 300)) {
		y = y.bound(100, 300);
		mode++;
	} else if (!(mode%2) &amp;&amp; x !== x.bound(100, 300)){
		x = x.bound(100, 300);
		mode++;
	}
};

/**See also:
  Using Math Properties and Methods as Global Variables: http://devdoodle.net/dev/105/
  rand([x[, y]]): http://devdoodle.net/dev/111/
  Using the draw loop: http://devdoodle.net/dev/102/
  print(input): http://devdoodle.net/dev/83/
*/
	</textarea>
	<iframe id="output" sandbox="allow-scripts"></iframe>
</div>
<style>
	#code {
		color: #fff;
		background: #000;
		font-family: monospace;
		font-size: 1rem;
		resize: none;
		margin-bottom: 8px;
	}
	#code, #output { height: 500px }
	#output { float: right }
	#code { width: 55% }
	#output { width: 44% }
</style>
<script>
	var footerOff = true,
		noPageOverflow = 400,
		pageOverflowMobile = true,
		code = document.getElementById('code');
	code.addEventListener('keypress', function(e) {
		var oldSelectionStart = this.selectionStart;
		if (e.keyCode === 13) {
			if (this.value[oldSelectionStart - 1] == ',') this.eIndent = true;
			var tabs = this.value.substr(0, oldSelectionStart)
				.split('\n')[this.value.substr(0, oldSelectionStart).split('\n').length - 1]
				.split('\t').length
				- (
					('{([:,'.indexOf(this.value[oldSelectionStart - 1]) + 1)
					? 0
					: (
						this.value[oldSelectionStart - 1] == ';' &amp;&amp; this.eIndent
						? (this.eIndent = false || 2) 
						: 1
					)
				);
			this.value = this.value.substr(0, this.selectionStart) + '\n' + '\t'.repeat(tabs) + this.value.substr(this.selectionStart);
			this.selectionStart = ++oldSelectionStart + tabs;
			this.selectionEnd = this.selectionStart;
			e.preventDefault();
		} else if (e.keyCode == 34) {
			this.value = this.value.substr(0, this.selectionStart) + '""' + this.value.substr(this.selectionStart);
			this.selectionEnd = ++oldSelectionStart;
			e.preventDefault();
		} else if (e.keyCode == 39) {
			this.value = this.value.substr(0, this.selectionStart) + "''" + this.value.substr(this.selectionStart);
			this.selectionEnd = ++oldSelectionStart;
			e.preventDefault();
		} else if (e.keyCode == 40) {
			this.value = this.value.substr(0, this.selectionStart) + '()' + this.value.substr(this.selectionStart);
			this.selectionEnd = ++oldSelectionStart;
			e.preventDefault();
		} else if (e.keyCode == 91) {
			this.value = this.value.substr(0, this.selectionStart) + '[]' + this.value.substr(this.selectionStart);
			this.selectionEnd = ++oldSelectionStart;
			e.preventDefault();
		} else if (e.keyCode == 123) {
			this.value = this.value.substr(0, this.selectionStart) + '{}' + this.value.substr(this.selectionStart);
			this.selectionEnd = ++oldSelectionStart;
			e.preventDefault();
		}
		// console.log(e.keyCode);
		run();
	});
	code.addEventListener('keydown', function(e) {
		if (e.keyCode == 8 &amp;&amp; this.selectionStart == this.selectionEnd) {
			console.log(this.value[this.selectionStart - 1] == '(')
			if (
				(this.value[this.selectionStart - 1] == '"' &amp;&amp; this.value[this.selectionStart] == '"') ||
				(this.value[this.selectionStart - 1] == "'" &amp;&amp; this.value[this.selectionStart] == "'") ||
				(this.value[this.selectionStart - 1] == '(' &amp;&amp; this.value[this.selectionStart] == ')') ||
				(this.value[this.selectionStart - 1] == '[' &amp;&amp; this.value[this.selectionStart] == ']') ||
				(this.value[this.selectionStart - 1] == '{' &amp;&amp; this.value[this.selectionStart] == '}')
			) {
				var oldSelectionStart = this.selectionStart;
				this.value = this.value.substr(0, this.selectionStart - 1) + this.value.substr(this.selectionStart + 1);
				this.selectionEnd = --oldSelectionStart;
				e.preventDefault();
			}
		}
	});
	function createCode() {
		return '&lt;!DOCTYPE html>&lt;html>&lt;head>&lt;title>Output frame&lt;/title>&lt;/head>&lt;style>*{margin:0;max-width:100%;box-sizing:border-box}body{background:#000;color:#fff}#canvas{border:1px solid #fff;-webkit-user-select:none;-moz-user-select:none;cursor:default}#console{height:100px;background:#111;overflow:auto;margin-top:8px}#console:empty{display:none}button{display:block}&lt;/style>&lt;body>&lt;canvas id="canvas">&lt;/canvas>&lt;div id="console">&lt;/div>&lt;button onclick="location.reload()">Restart&lt;/button>&lt;script src="/dev/canvas.js">&lt;/script>&lt;script>\'use strict\';try{this.eval(' + JSON.stringify(code.value) + ')}catch(e){error(e)}&lt;/script>&lt;/body>&lt;/html>';
	}
	function run() {
		document.getElementById('output').srcdoc = createCode();
	}
	var oldValue = code.innerHTML;
	function handleCode() {
		if (code.value != oldValue) {
			oldValue = code.value;
			if (!save.classList.contains('progress')) save.textContent = 'Save';
			run();
		}
	}
	var timeout = setTimeout(handleCode, 1000);
	code.addEventListener('keyup', function() {
		clearTimeout(timeout);
		timeout = setTimeout(handleCode, 1000);
	});
	code.addEventListener('keydown', function() {
		clearTimeout(timeout);
		timeout = setTimeout(handleCode, 1000);
	});
	code.addEventListener('keypress', function() {
		clearTimeout(timeout);
		timeout = setTimeout(handleCode, 1000);
		onbeforeunload = function() {
			return 'You have unsaved code.';
		};
	});
	run();
</script>